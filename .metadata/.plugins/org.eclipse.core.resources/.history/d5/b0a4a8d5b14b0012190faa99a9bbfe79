package com.vestrel00.nekko.maps.components;

import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureAtlas.AtlasRegion;
import com.badlogic.gdx.math.Rectangle;
import com.vestrel00.nekko.KFNekko;
import com.vestrel00.nekko.interf.Drawable;

public class MapPiece implements Drawable {

	public Rectangle rect;
	public AtlasRegion[] regions;
	public float[] regionXCoords, regionYCoords;
	public float[] horizontal, vertical, slope;

	public MapPiece(float width, float height) {
		rect = new Rectangle(0, 0, width, height);
	}

	public void translate(float offsetX, float offsetY) {
		rect.x += offsetX;
		rect.y += offsetY;
		int i = 0;
		for (i = 0; i < regions.length; i++) {
			regionXCoords[i] += offsetX;
			regionYCoords[i] += offsetY;
		}
		if (horizontal != null)
			for (i = 0; i < horizontal.length; i += 3) {
				horizontal[i] += offsetX;
				horizontal[i + 1] += offsetY;
				horizontal[i + 2] += offsetX;
			}

	}

	@Override
	public void draw(SpriteBatch batch) {
		if (KFNekko.camera.rect.overlaps(rect))
			for (int i = 0; i < regions.length; i++)
				batch.draw(regions[i], regionXCoords[i], regionYCoords[i]);
	}

}
